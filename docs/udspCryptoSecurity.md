# UW:// & Universal Data Stream Protocol security

UW:// First acquires a domain certificate which it requests from the Domain Information System. The connection to the DIS is encrypted  using pre-provided certificates. The root pre-provided certificates help clients to verify and connect to a DIS server. The DIS is a distributed decentralized network designed for certificate distribution. Certificates rely on blockchain technology and a certificate authority to establish trust in certificates distributed by the DIS. Encryption occurs starting with the first packet by relying on the Domain Certificate to provide all required details to establish and initial connection without having to negotiate any perameters. UDSP has Perfect forward secrecy and uses a total of 3 or more keypairs to setup a connection. Depending on the optional security options listed within the Domain Certificate UDSP could be fine tuned for its own balance of performance & security. The initial ephemeral client public key generated for connection establishment could be encrypted using a onetime throw away keypair and the server's public key listed in the domain certificate.

##### Connection IDs

This alone removes the need to have a domain based server name identifier because smart server connection ids can be indicated in the domain certificate. The domain certificate  can tell a client what to include in the server connection id to allow it to effectively route all packets to the correct server and or instance. However, IPv6 would solve that issue anyway by routing requests to a specific IP instead of a shared single IP. A model where this is most useful is for shared hosting or shared servers which are hosting multiple sites on the same IP. They need to inteligently route packets to their end destination and smart connection ids do that. Smart Connection Id's are most useful for load balancers handling large amounts of connections and servers. They can even route packets to a specific instance, hardware, core, and so on running a server.

##### Encrypted Connection IDs

Connection ID's for both the server and the client can be encrypted or only one could be encrypted which is determined by the Domain Certificate. The connection ID's to the server or the client could also be encrypted with a separate keypair allowing Servers to have middleware or hardware (example: loadbalancer) with their own keypair used to decrypt and process smart connection IDs. This means that the machines that sit between the client and server could have the unique keypair they use isolated which means if for some reason that hardware was compromised it would not provide the keypair used in the domain certificate nor would it allow an attacker to decrypt any of the priority data within a packet. This model allows efficient seperation of concern, security, and allows a load balancer to decrypt and route packets to their appropriate destination without having access to any keypairs that could decrypt the packets data. This ensures an isolated security policy for the network protecting potential breaches of network hardware to a minimum when it comes to keypairs.

##### Permitted unencrypted first packet

All data sent to and from the server are encrypted in the standard security model. However, a server can permit a client to send an unencrypted first packet that is requesting the server's domain certificate. None the less all subsequent packets would be encrypted with an AEAD algo. The server first responds with an ephemeral public key which is encrypted by a onetime throw away public key paired with AEAD encryption. A limited encrypted connection is then established and then the server sends over its certificate or provides instructions on how to request it from the DIS.

##### Same connection unique keypairs per Request

Different keys per-stream means that if a connection is established and multiple requests come over the wire each request could use its own keypair to encrypt that specific stream aka request. For example if there are two GET requests over a single connection each could utilize its own keypair for its own related packets. WHile all new GET requests would use the initial client keypair and the server's second public key which it created for that unique client connection. Although UDSP is setup to permit unique keys per-request it's typically not used and seen as overkill.

### UW:// Security Compared to HTTP

UW:// is encrypted by default & offers options for far greater encryption, privacy, and anonymity than HTTP/s while remaining as performant as possible. UW:// enforces the latest standards in encryption and is not designed for nor does it permit older encryption schemes such as RSA. Even in cases like HTTP3 UW:// offers varios encryption strategies for data that is typically sent in the clear such an encryption public keypairs during the connection handshake. Encrypting connection ids as well as permitting typically other plain text data to be encrypted starting from the first packet. UW doesn't rely on another layer to handle the encryption process like HTTP with TLS. All the magic happens within a single layer as to be as performant yet secure as possible.

##### SUBJECT TO CHANGE (WIP)
